<!DOCTYPE html><html><head><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="chrome=1"/><title>AJAX：异步JavaScript和XML（Asynchronous Javascript And XML）: 全栈开发之旅</title><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"/><meta name="author" content="ronesam"/><meta name="description" content="AJAX不是一种新的编程语言，而是一种用于创建更好更快以及交互性更强的Web应用程序的技术。 百度百科AJAX">
<meta property="og:type" content="article">
<meta property="og:title" content="AJAX：异步JavaScript和XML（Asynchronous Javascript And XML）">
<meta property="og:url" content="https://ronesam.com/wind/interface/ajax/index.html">
<meta property="og:site_name" content="全栈开发之旅">
<meta property="og:description" content="AJAX不是一种新的编程语言，而是一种用于创建更好更快以及交互性更强的Web应用程序的技术。 百度百科AJAX">
<meta property="og:locale" content="zh-CN">
<meta property="og:updated_time" content="2017-10-24T07:34:20.802Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="AJAX：异步JavaScript和XML（Asynchronous Javascript And XML）">
<meta name="twitter:description" content="AJAX不是一种新的编程语言，而是一种用于创建更好更快以及交互性更强的Web应用程序的技术。 百度百科AJAX"><link rel="icon" type="image/x-icon" href="/zero/img/favicon.ico"/><link rel="stylesheet" href="/vendor/bootstrap/3.3.5/css/bootstrap.min.css"><link rel="stylesheet" href="/vendor/font-awesome/4.4.0/css/font-awesome.min.css"><link rel="stylesheet" href="/vendor/remodal/1.0.5/remodal.min.css"><link rel="stylesheet" href="/vendor/remodal/1.0.5/remodal-default-theme.min.css"><!--如果文章中有图片（除画廊外），则载入fancybox特效相关样式--><link rel="stylesheet" href="/vendor/fancybox/2.1.5/jquery.fancybox.min.css"><link rel="stylesheet" href="/zero/css/style.css"><script src="/vendor/jquery/2.1.4/jquery.min.js"></script></head><body><div class="wrapper"><header id="header"><div class="title"><h1><a href="/">全栈开发之旅</a></h1><p class="fa fa-github-alt"><a href="/about/summary/" target="_blank">学以致用, 知行合一</a></p></div><nav class="nav"><ul><li><a href="/air/summary/">交互层</a></li><li><a href="/fire/summary/">业务层</a></li><li><a href="/water/summary/">服务层</a></li><li><a href="/earth/summary/">事务层</a></li></ul><div class="clearfix"></div></nav><div class="clearfix"></div></header><div class="content"><article class="post"><header><div class="icon"></div><a href="/wind/interface/ajax/"><time datetime="2016-01-05T05:43:30.000Z">2016-01-05</time></a><h1 class="title">AJAX：异步JavaScript和XML（Asynchronous Javascript And XML）</h1></header><div class="entry"><blockquote><p>AJAX不是一种新的编程语言，而是一种用于创建更好更快以及交互性更强的Web应用程序的技术。</p>
<footer><strong>百度百科</strong><cite><a href="http://baike.baidu.com/link?url=DwLVTG3fw1N_EoC3NuRuPBFzqB31awrjv72dbrMaFqKsIFoyayJcAYl5iThrtnUWBDNX4SlOoOqh8LlQD7H6UDCwiH7W0yCwU-6QNBJ_zDS" target="_blank" rel="external">AJAX</a></cite></footer></blockquote>
<a id="more"></a>
<p>在<strong>《PEAA》</strong>初版两年之后，2005年，<strong>Google Earth</strong> 横空出世。</p>
<p>瞬时引发巨大轰动，达成“举世瞩目”的成就。</p>
<p>当人们乐此不疲的满世界寻找海滩美女图、军事基地图……的同时；<strong>AJAX</strong> 这个词也悄然在业内火爆起来。</p>
<p><strong>AJAX</strong> 并不是什么新奇的玩意，其核心是 <strong>DOM</strong> 的 <strong>XMLHttpRequest</strong> 对象——而这早在1998年相关的技术都已完备——大家或多或少的都用过，只是没有这么称呼而已。</p>
<p>直到 <strong>Google Earth</strong> 出现。</p>
<p>大家才恍然大悟：原来与用户的<strong>交互</strong>还可以这么玩！</p>
<p>一道大门缓缓打开，<strong>“前端工程师”</strong>这个隐藏职业被开启了。</p>
<p>（PS：在此之前，我们被称为“网页重构工程师”来着……至于重构，嗯，那又是另外一个话题了……）</p>
<p>（PS2：本来是叫做“前台工程师”的——对应“后台工程师”——简称“前台”。然而，这和前台小妹重叠了，引发了行业的集体反感，在大家锲而不舍的努力下，终于纠正为“前端”。）</p>
<p>（PS3：类似的情况还有：“美工”纠正为“[交互|视觉]设计师”；“网页重构工程师”纠正为“UI开发”……）</p>
<p>现在回过头来看，<strong>“前端工程师”</strong>的出现，是把<strong>《PEAA》</strong>中提到的“界面表现层”再次细分为<strong>“界面交互层”</strong>和“表现控制层”。</p>
<p>而我们牢牢掌控<strong>“界面交互层”</strong>的同时，也在时刻觊觎着“表现控制层”这块更肥美的领地。</p>
<p>随着NodeJs的出现，前端工程师们正变得越来越强大，同时也在汇聚着越来越多的支持者，再次统一两层的未来已经为时不远。</p>
<p>理想情况下，“表现控制层”应该只输出相关“表现”的原材料：转换好的数据（从后台获取），以及转换好的模板（从设计获取）；而如何展示具体的视图，则由“界面交互层”来处理。事实上，在很多公司里，模板是由专职的“UI开发”完成的，“表现控制层”只需要专注于一件事情：数据转换（<em>注意 ：是转换不是处理，处理在后台，转换是指转为前端需要的格式，比如：Json</em>）。</p>
<p>各自专心只做一件事情，或者说，在某段时间内只专心考虑一件事情，实践上来说，无疑是比分心二用更好的模式。</p>
<p>现在回过头来接着看 <strong>AJAX</strong>。</p>
<p>除了本文一开始提到的 <strong>Google Earth</strong>，还有哪些使用 <strong>AJAX</strong> 的杀手级应用吗？</p>
<p>可以肯定的说：<strong>没有！一个都没有！！</strong>（GMail？恩，被墙了……而且，它是靠1G免费存储容量出名的——那可是2004年的1G，对比一下，当时主流的雅虎邮箱容量仅为4M，微软Hotmail邮箱容量仅为2M。）</p>
<p>著名的失败案例倒是有两个：</p>
<ul>
<li>我的淘宝AJAX版</li>
</ul>
<figure class="highlight plain"><figcaption><span>air/interaction/taobao.jpg alt:我的淘宝AJAX版```</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">```quote 子柳的博客 http://blog.sina.com.cn/s/blog_633219970100vzpo.html 从P1到P7——我在淘宝这7年（三）</div><div class="line">接下来淘宝历史上第一个群体性事件爆发了，试用完新版本的【我的淘宝】之后，很多卖家愤怒了，说不会玩，一灯就和承志一起商量怎么把页面改得像个网页一点，改了半个月，愤怒依然没有平息，我很无奈地看着这两个人在那里坚持，然后跟老板们商量怎么办。后来我们用了一个很挫的方法给自己一个台阶，到论坛上让大家投票要不要使用新版【我的淘宝】，投票结果是一半以上的反对。于是这么十来个人做了3个月的系统被杀掉了。我当时只感觉对不起这帮兄弟们，也对不起自己领的这3个月的薪水，走路都抬不起头来。但这还不是最痛苦的，最痛苦的是我们下线之后，另外一拨卖家不满了，说这么好的功能怎么没有了？</div></pre></td></tr></table></figure>
<ul>
<li>QQmail（3.0 &amp;&amp; 4.0）</li>
</ul>
<figure class="highlight plain"><figcaption><span>air/interaction/qqmail.gif alt:QQmail（3.0&&4.0）```</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">```quote</div><div class="line">2006年春节，广研自主推出了QQmail3.0，现在这个版本已经不存在了。最早的交互UI等工作是从网易过来的同事主导的，使用了Ajax等最时髦的技术，完全按照最前沿的UI和最好的用户体验来设计，开发的同事也完全按照产品的需求设计去实现和执行，大家认为只有这样做，我们的产品才会快速获得成功。但让人失望的是，我们不得不面对产品、UI的前卫需求带来的负面影响：缺陷率高；下载size大；用户访问速度慢…当这一切频繁发生时，团队全线紧张，不仅是运维、服务器资源紧张，开发同事到处救火，整个团队心都抓紧了…3.0对团队的打击非常大，大家太专注于做邮箱，把web当作cilent来做，登陆时加载很多的功能，为了缓解Ajax带来的全局影响，我们做了大量的JS优化工作，甚至还写了混淆器，但这些努力并没有让我们看到转折，我们隐隐感到Ajax被滥用了。同时，团队中有人提出来“邮箱的主流用户行为不就是登录、浏览、离开的过程吗？”但我们仍然被那些花俏的东西和前期的努力所吸引，焦点仍然在开发技术的改进以适应产品和UI的前卫需求。</div><div class="line">紧接着4.0版本，吸取了3.0的一些教训，但仍然把优化的工作局限在Ajax技术上，先采用分布加载的方式，开始似乎在hummer mail上看到一丝希望。但随着UI、产品需求的不断加入，开发方一直处于被动接受的状态，对需求没有提出技术上裁减的想法，团队中开发、产品、测试、UI的同事都很辛苦，于是噩梦又被重演：BUG越来越多，页面偶合性大，访问速度慢…大家陷入了又一个茫然之中…我们的产品很强，UI很强，开发的素质也很强，大家都非常埋力的工作，却没有好的结果，团队士气很受打击。</div></pre></td></tr></table></figure>
<p>这里要注明的是，QQMail的团队就是后来的微信团队！</p>
<p>两个可以说是业内最NB的团队都折戟沉沙了……</p>
<p>血淋淋的事实教育我们：在绝大多数场景下，<strong>AJAX</strong> 带来的好处远远比不过它所带来的害处！</p>
<blockquote>
<p>时至今日，<strong>AJAX</strong> 早已经是不被推荐的技术。</p>
</blockquote>
<p>关于异步处理，我们有更好的替代方案：JSON &amp;&amp; JSONP。</p>
</div><footer><div class="shares fa fa-weixin"><a>分享到微信</a></div></footer><div class="clearfix"></div></article><aside><ul class="action">   <li title="回到顶部" class="icon-arrow-up"> </li><li title="索引" data-remodal-target="toc" class="icon-toc"></li><li title="评论" data-remodal-target="comment" class="icon-comment"></li><li title="全屏" class="icon-fullscreen"></li></ul><ul class="page"> <li class="icon-prev"></li><li title="目录" data-remodal-target="summary" class="icon-summary"></li><li class="icon-next"></li></ul></aside><div data-remodal-id="toc" data-remodal-options="hashTracking: false" class="remodal"><button data-remodal-action="close" class="remodal-close"></button><h3>索引</h3><article class="toc"></article></div><div data-remodal-id="summary" data-remodal-options="hashTracking: false" class="remodal"><button data-remodal-action="close" class="remodal-close"></button><h3>目录</h3><article class="summary"></article></div><div data-remodal-id="comment" data-remodal-options="hashTracking: false" class="remodal"><button data-remodal-action="close" class="remodal-close"></button><h3>评论</h3><article class="comment"><div data-thread-key="ronesam" data-title="AJAX：异步JavaScript和XML（Asynchronous Javascript And XML）" data-url="/wind/interface/ajax/" class="ds-thread"></div></article></div></div></div><footer id="footer"><div class="copyright">&copy; 2017 <a href="/">ronesam</a></div><div class="theme-copyright">Theme by <a href="https://github.com/orderedlist" target="_blank">orderedlist</a>  | Redesign by <a href="https://ronesam.com/about/summary/" target="_blank">ronesam</a></div><div class="clearfix"></div></footer><script src="/vendor/remodal/1.0.5/remodal.min.js"></script><script src="/vendor/screenfull.js/2.0.0/screenfull.min.js"></script><!--需要先载入全屏的函数，aside里面会重写，加入回调--><script src="/zero/js/aside.js"></script><script>var duoshuoQuery = {short_name: 'ronesam'};</script><!--如果文章中有图片（除画廊外），则载入fancybox特效相关代码--><script src="/vendor/fancybox/2.1.5/jquery.fancybox.min.js"></script><script>//给所有的图片打上标识，供fancybox（除了明确表示非fancybox）调用
$('.entry').each(function(i) {
  $(this).find('img:not([class*="no-fancybox"])').each(function () {
    var alt = this.alt;
    if(alt) {
      $(this).after('<span class="caption">' + alt + '</span>');
    }
    if($(this).parent('a').length === 0) {
      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox" rel="gallery' + i + '" />');
    }
  });
});
//启动fancybox
$('.fancybox').fancybox();</script></body></html>