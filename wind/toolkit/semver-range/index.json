{"summary":"<blockquote><p>在使用 Node.js 和 Bower 的时候，其中的 package.json 和 bower.json 都会有 dependencies、devDependencies 项，对于此前端开 发的童鞋应该会比较熟悉。这里面是运行时和开发时依赖库，其中依赖库对应的版本号有很多种写法，诸如：”~1.0.2“, “^1.0“, “&gt;=1.0.2“等，其实可以猜测这种写法代表了某种范围，至于具体含义本文给大家做详细解释。</p>\n<footer><strong>U396 | 点滴</strong><cite><a href=\"http://www.u396.com/semver-range.html\" target=\"_blank\" rel=\"external\">语义化版本（SemVer）的范围</a></cite></footer></blockquote>\n<a id=\"more\"></a>\n<h2 id=\"语义化版本格式\"><a href=\"#语义化版本格式\" class=\"headerlink\" title=\"语义化版本格式\"></a>语义化版本格式</h2><p>我们首先简单了解一下语义化版本版本号，标准的版本格式为：<code>X.Y.Z</code>，其中：</p>\n<ul>\n<li><code>X</code>：主版本号，当我们做了不兼容或者颠覆性的更新，修改此版本号。</li>\n<li><code>Y</code>：此版本号，当我们做了向下兼容的功能性修改，修改此版本号。</li>\n<li><code>Z</code>：修订号，当我们做了向下兼容的问题修正，修改此版本号。</li>\n</ul>\n<p>其中X、Y和Z必须为非负整数，禁止数字前补零，每个数值都是递增的。</p>\n<h2 id=\"语义化版本范围\"><a href=\"#语义化版本范围\" class=\"headerlink\" title=\"语义化版本范围\"></a>语义化版本范围</h2><p>版本范围是一组满足指定范围的比较器，一个比较器是由操作符和版本号组成，下面是最原始的操作符：</p>\n<ul>\n<li><code>&lt;</code>  小于；</li>\n<li><code>&lt;=</code> 小于等于；</li>\n<li><code>&gt;</code>  大于；</li>\n<li><code>&gt;=</code> 大于等于；</li>\n<li><code>=</code>  等于；如果没有指定操作符，则默认为等于。</li>\n</ul>\n<p>一个范围可由一个或者多个比较器组成，如果有多个，则由双竖线（||）连接。对于包含多个比较器，只要满足其一即可。比如：</p>\n<p>范围 <code>&gt;= 1.2.7 &lt;1.3.0</code> ，版本号 <code>1.2.7</code>, <code>1.2.8</code>, <code>1.2.99</code> 满足条件，而 <code>1.2.6</code>, <code>1.3.0</code>, <code>1.1.0</code> 确不满足。<br>范围 <code>1.2.7</code> || <code>&gt;= 1.2.9 &lt;2.0.0</code> ，版本号 <code>1.2.7</code>, <code>1.2.9</code>, <code>1.4.6</code> 满足，而 <code>1.2.8</code>  或者 <code>2.0.0</code> 不满足。</p>\n<h2 id=\"关于测试版\"><a href=\"#关于测试版\" class=\"headerlink\" title=\"关于测试版\"></a>关于测试版</h2><p><code>Alpha</code>、<code>Beta</code>、<code>Gamma</code>与<code>α</code>、<code>β</code>、<code>λ</code>谐音，是希腊字母前三个字母，用来表示软件开发过程中测试的三个阶段：</p>\n<ul>\n<li><code>Alpha</code>：内测版，内部交流或者专业测试人员测试用；</li>\n<li><code>Beta</code>：公测版，专业爱好者大规模测试用，存在一些缺陷，该版本也不适合一般用户安装；</li>\n<li><code>Gamma</code>：比较成熟的测试版，与即将发行的正式版相差无几；</li>\n<li><code>RC</code>：是 Release Candidate 的缩写，意思是发布倒计时，候选版本，处于Gamma阶段，该版本已经完成全部功能并清除大部分的BUG。到了这个阶段只会除BUG，不会对软件做任何大的更改。从Alpha到Beta再到Gamma是改进的先后关系，但RC1、RC2往往是取舍关系。</li>\n<li><code>Stable</code>：稳定版。在开源软件中，都有stable版，这个就是开源软件的稳定发行版。</li>\n</ul>\n<p>范围 <code>&gt;1.2.3-alpha.3</code>，版本<code>1.2.3-alpha.7</code>符合条件，而<code>3.4.5-alpha.9</code>却不满足条件。虽然 <code>3.4.5-alpha.9</code> 实际上大于 <code>1.2.3-alpha.3</code>，但是根据 <code>SemVer</code> 的排序规则，这个版本范围只是接受 <code>1.2.3</code> 的测试版，而不接受其他版本的测试版。当然 <code>3.4.5</code> 满足条件，因为它不是测试版，并且大于 <code>1.2.3-alpha.7</code>。</p>\n<p>这么做是有两个目的，首先测试版会经常更新并且可能包含不适合公开的重大改动，因此被排除在范围之外；再者，虽然用户明确此次使用有风险的测试版本，然而下一版本的测试版被包含进来仍然是不合适的。</p>\n<h2 id=\"版本范围高级用法\"><a href=\"#版本范围高级用法\" class=\"headerlink\" title=\"版本范围高级用法\"></a>版本范围高级用法</h2><p>在版本范围的高级用法中，与原始的比较器不同，组合不仅仅限于空格和双竖线，它有以下几种方式。</p>\n<h3 id=\"连接符（-）范围-X-Y-Z-A-B-C\"><a href=\"#连接符（-）范围-X-Y-Z-A-B-C\" class=\"headerlink\" title=\"连接符（-）范围 X.Y.Z - A.B.C\"></a>连接符（-）范围 <code>X.Y.Z - A.B.C</code></h3><p>下面表示的闭包集合</p>\n<ul>\n<li><code>1.2.3 - 2.3.4</code> := <code>&gt;=1.2.3 &lt;=2.3.4</code></li>\n</ul>\n<p>如果范围中的第一个版本号只有一部分，剩下的部分以零填充。</p>\n<ul>\n<li><code>1.2 - 2.3.4</code> := <code>&gt;=1.2.0 &lt;=2.3.4</code></li>\n</ul>\n<p>如果范围中的第二个版本号只有一部分，代表范围中包含了这个版本。</p>\n<ul>\n<li><code>1.2.3 - 2.3</code> := <code>&gt;=1.2.3 &lt;2.4.0</code></li>\n<li><code>1.2.3 - 2</code> := <code>&gt;=1.2.3 &lt;3.0.0</code></li>\n</ul>\n<h3 id=\"X范围-1-2-x-1-X-1-2\"><a href=\"#X范围-1-2-x-1-X-1-2\" class=\"headerlink\" title=\"X范围 1.2.x 1.X 1.2.* *\"></a>X范围 <code>1.2.x 1.X 1.2.* *</code></h3><p><code>X</code>, <code>x</code> 或者 <code>*</code> 可以用在主版本号、此版本号以及修订版本号的任何一个上面。</p>\n<ul>\n<li><code>*</code> := <code>&gt;=0.0.0</code> (任何版本都满足)</li>\n<li><code>1.x</code> := <code>&gt;=1.0.0 &lt;2.0.0</code> (只要满足主版本号即可)</li>\n<li><code>1.2.x</code> := <code>&gt;=1.2.0 &lt;1.3.0</code> (需要满足主版本和此版本号)</li>\n</ul>\n<p>部分版本号的含义与X范围表示含义一样，所以<code>X</code>或者<code>*</code>都是可以省略的。</p>\n<ul>\n<li><code>&quot;&quot;</code> (空字符串) := <code>*</code> := <code>&gt;=0.0.0</code></li>\n<li><code>1</code> := <code>1.x.x</code> := <code>&gt;=1.0.0 &lt;2.0.0</code></li>\n<li><code>1.2</code> := <code>1.2.x</code> := <code>&gt;=1.2.0 &lt;1.3.0</code></li>\n</ul>\n<h3 id=\"波浪线（-）范围-1-2-3-1-2-1\"><a href=\"#波浪线（-）范围-1-2-3-1-2-1\" class=\"headerlink\" title=\"波浪线（~）范围 ~1.2.3 ~1.2 ~1\"></a>波浪线（~）范围 <code>~1.2.3 ~1.2 ~1</code></h3><ul>\n<li><code>~1.2.3</code> := <code>&gt;=1.2.3 &lt;1.(2+1).0</code> := <code>&gt;=1.2.3 &lt;1.3.0</code></li>\n<li><code>~1.2</code> := <code>&gt;=1.2.0 &lt;1.(2+1).0</code> := <code>&gt;=1.2.0 &lt;1.3.0</code> (类似于 <code>1.2.x</code>)</li>\n<li><code>~1</code> := <code>&gt;=1.0.0 &lt;(1+1).0.0</code> := <code>&gt;=1.0.0 &lt;2.0.0</code> (类似于 <code>1.x</code>)</li>\n<li><code>~0.2.3</code> := <code>&gt;=0.2.3 &lt;0.(2+1).0</code> := <code>&gt;=0.2.3 &lt;0.3.0</code></li>\n<li><code>~0.2</code> := <code>&gt;=0.2.0 &lt;0.(2+1).0</code> := <code>&gt;=0.2.0 &lt;0.3.0</code> (类似于 <code>0.2.x</code>)</li>\n<li><code>~0</code> := <code>&gt;=0.0.0 &lt;(0+1).0.0</code> := <code>&gt;=0.0.0 &lt;1.0.0</code> (类似于 <code>0.x</code>)</li>\n<li><code>~1.2.3-beta.2</code> := <code>&gt;=1.2.3-beta.2 &lt;1.3.0</code> 注意版本为<code>1.2.3</code>且大于等于<code>beta.2</code>的测试版本在范围内，因此 <code>1.2.3-beta.4</code>满足条件，而<code>1.2.4-beta.2</code>不满足条件。</li>\n</ul>\n<h3 id=\"补注号（-）范围-1-2-3-0-2-5-0-0-4\"><a href=\"#补注号（-）范围-1-2-3-0-2-5-0-0-4\" class=\"headerlink\" title=\"补注号（^）范围 ^1.2.3 ^0.2.5 ^0.0.4\"></a>补注号（^）范围 <code>^1.2.3 ^0.2.5 ^0.0.4</code></h3><p>允许在不修改<code>[major, minor, patch]</code>中最左非零数字的更改。换句话说，允许在 <code>1.0.0</code> 及以上版本对次版本号和修订版本号的更新，允许在 <code>0.1.0</code>以及以上版本对修订版本号更新，版本为 <code>0.0.X</code> 不允许更新。</p>\n<ul>\n<li><code>^1.2.3</code> := <code>&gt;=1.2.3 &lt;2.0.0</code></li>\n<li><code>^0.2.3</code> := <code>&gt;=0.2.3 &lt;0.3.0</code></li>\n<li><code>^0.0.3</code> := <code>&gt;=0.0.3 &lt;0.0.4</code></li>\n<li><code>^1.2.3-beta.2</code> := <code>&gt;=1.2.3-beta.2 &lt;2.0.0</code></li>\n<li><code>^0.0.3-beta</code> := <code>&gt;=0.0.3-beta &lt;0.0.4</code></li>\n<li><code>^1.2.x</code> := <code>&gt;=1.2.0 &lt;2.0.0</code></li>\n<li><code>^0.0.x</code> := <code>&gt;=0.0.0 &lt;0.1.0</code></li>\n<li><code>^0.0</code> := <code>&gt;=0.0.0 &lt;0.1.0</code></li>\n<li><code>^1.x</code> := <code>&gt;=1.0.0 &lt;2.0.0</code></li>\n<li><code>^0.x</code> := <code>&gt;=0.0.0 &lt;1.0.0*</code></li>\n</ul>\n"}