<!DOCTYPE html><html><head><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="chrome=1"/><title>架构设计: 全栈开发之旅</title><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"/><meta name="author" content="ronesam"/><meta name="description" content="确保系统高效稳定运行, 好的架构能让事半功倍.">
<meta property="og:type" content="article">
<meta property="og:title" content="架构设计">
<meta property="og:url" content="https://ronesam.com/about/guide/design/index.html">
<meta property="og:site_name" content="全栈开发之旅">
<meta property="og:description" content="确保系统高效稳定运行, 好的架构能让事半功倍.">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="https://ronesam.com/about/guide/design/image/filehelper_1484201308480_7.png">
<meta property="og:updated_time" content="2017-12-27T08:44:21.984Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="架构设计">
<meta name="twitter:description" content="确保系统高效稳定运行, 好的架构能让事半功倍.">
<meta name="twitter:image" content="https://ronesam.com/about/guide/design/image/filehelper_1484201308480_7.png"><link rel="icon" type="image/x-icon" href="/zero/img/favicon.ico"/><link rel="stylesheet" href="/vendor/bootstrap/3.3.5/css/bootstrap.min.css"><link rel="stylesheet" href="/vendor/font-awesome/4.4.0/css/font-awesome.min.css"><link rel="stylesheet" href="/vendor/remodal/1.0.5/remodal.min.css"><link rel="stylesheet" href="/vendor/remodal/1.0.5/remodal-default-theme.min.css"><link rel="stylesheet" href="/zero/css/style.css"><script src="/vendor/jquery/2.1.4/jquery.min.js"></script></head><body><div class="wrapper"><header id="header"><div class="title"><h1><a href="/">全栈开发之旅</a></h1><p class="fa fa-github-alt"><a href="/about/summary/" target="_blank">学以致用, 知行合一</a></p></div><nav class="nav"><ul><li><a href="/wind/summary/">交互层</a></li><li><a href="/fire/summary/">业务层</a></li><li><a href="/water/summary/">服务层</a></li><li><a href="/earth/summary/">事务层</a></li></ul><div class="clearfix"></div></nav><div class="clearfix"></div></header><div class="content"><article class="post"><header><div class="icon"></div><a href="/about/guide/design/"><time datetime="2017-12-27T08:44:21.984Z">2017-12-27</time></a><h1 class="title">架构设计</h1></header><div class="entry"><blockquote><p>确保系统高效稳定运行, 好的架构能让事半功倍.</p>
</blockquote>
<a id="more"></a>
<h2 id="四层架构"><a href="#四层架构" class="headerlink" title="四层架构"></a>四层架构</h2><p><img src="image/filehelper_1484201308480_7.png" alt="四层架构"></p>
<h2 id="理解MVC"><a href="#理解MVC" class="headerlink" title="理解MVC"></a>理解MVC</h2><ul>
<li>一个<strong>系统执行者</strong>（<code>Actor</code>）可以执行多个<strong>系统用例</strong>（<code>Case</code>）<ul>
<li>但不能多个<code>Actor</code>执行同一个<code>Case</code></li>
<li>通常情况可以认为<code>Case</code>就是<code>Page</code></li>
</ul>
</li>
<li>一个<code>Case</code>对应一个<strong>视图控制器</strong>（<code>ViewController</code>）<ul>
<li>也就是<code>MVC</code>中的<code>Controller</code>，其实属于四层架构中<strong>交互层</strong>的一部分</li>
<li>使用<code>index</code>方法提供基本<code>View</code><ul>
<li>不是说那些个<code>HTML</code>文件就是<code>View</code>，它们仅仅是模板</li>
<li>经过浏览器解析渲染呈现出来的，<code>Actor</code>可视的部分才是<code>View</code></li>
<li>模板原本由<code>Smarty</code>等模板引擎控制，语法复杂，难以协作</li>
<li>正逐渐被<code>Vue</code>，<code>React</code>，<code>Angular</code>等前端框架替代，推荐<code>Vue</code></li>
</ul>
</li>
<li>完成<code>Case</code>需要多个操作步骤（<code>Action</code>）<ul>
<li>注意：此时<code>URI</code>不变</li>
<li><code>Action</code>仅获取和过滤参数（防止<code>XSS</code>、<code>CSRF</code>、<code>SQL</code>注入等）<ul>
<li>原则上不对参数进行逻辑校验</li>
<li>除非因不同参数需要跳转不同<code>Controller</code></li>
<li>除非因不同参数需要调用不同<code>Logic</code></li>
<li>除非因不同参数可跳过不处理<code>Logic</code> </li>
</ul>
</li>
<li>参数透传给跨域的<code>Service</code>或者本域的<code>Logic</code>处理</li>
<li>判断处理结果，异常则中断过程直接返回；否则继续调用下一个<code>Service</code>或者<code>Logic</code></li>
</ul>
</li>
<li>返回<code>HTML</code>、<code>Json</code>或者直接跳转（<code>Redirect</code>）</li>
</ul>
</li>
<li>一个<code>Controller</code>也许会调用多个<code>AppController</code><ul>
<li>也就是<code>TP</code>框架中的<code>Service</code>，对应四层架构中<strong>应用逻辑</strong>或者<strong>服务层</strong></li>
<li>与<code>Controller</code>基本类似，但仅供内部跨域调用，用户不能直接访问</li>
<li>使用内部<code>HTTP</code>调用，防止服务中断后页面直接报错</li>
<li>不可以调用其它<code>Service</code>，以防死循环</li>
</ul>
</li>
<li>一个<code>Service</code>可能会涉及到不同的领域逻辑（<code>Logic</code>）<ul>
<li>对应四层架构中<strong>领域逻辑</strong>或者<strong>业务层</strong></li>
<li>就近原则：谁使用参数，谁负责校验</li>
<li>不可拆分的最小业务单元</li>
<li><code>Logic</code>之间禁止相互调用，也不可以被跨域调用</li>
</ul>
</li>
<li>一个<code>Logic</code>可能会调用不同的来源的数据模型（<code>Model</code>）<ul>
<li>对应四层架构中<strong>数据模型</strong>或者<strong>事务层</strong></li>
<li>领域模型 = 领域逻辑（<code>Logic</code>） + 数据模型（<code>Model</code>）</li>
<li>重点是实体以及实体之间的联系，也就是<strong>ER图</strong></li>
<li>负责实现状态机以及状态码的中文解释等</li>
</ul>
</li>
<li>通俗来说，以餐馆为例<ul>
<li>店小二是<code>Controller</code>，负责将顾客点菜，并将菜单发给厨师，把菜端给客户；<ul>
<li>厨师是<code>Logic</code>，只有他才知道原料是否有货，才能把菜做好给小二；小二不能直接拿到原料就对顾客说，只有这些东西，你自己做来吃吧；顾客要的始终是菜；</li>
<li>后勤是<code>Model</code>，负责原料的采购；</li>
<li>假设这个餐馆是肯德基或者麦当劳，那么就需要一个中央厨房，将菜品标准化，这个中央厨房就是<code>Service</code></li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="目录规划"><a href="#目录规划" class="headerlink" title="目录规划"></a>目录规划</h2><ul>
<li><strong>站点目录</strong>是指存放网站所有相关文件的目录</li>
<li><strong>站点根目录</strong>是指用户通过域名能够访问到的部分，通常是站点目录的子目录<ul>
<li>如果是IIS服务器，一般为：<code>wwwroot</code></li>
<li>如果是<code>Apache</code>服务器，一般为：<code>htdocs</code></li>
<li>而在<code>ThinkPHP</code>框架中，一般为：<code>public</code></li>
<li><code>Home</code>原本是指站点首页，对应的是<strong>根目录</strong>下的<code>index</code>文件<ul>
<li><code>index</code>文件有很多，可能每个目录下面都有一个，但只有<strong>根目录</strong>下的这个才被称为<code>Home</code></li>
<li>但在框架中，<code>index.php</code>已经变成前端控制器</li>
<li>所以只能引入<code>Home</code>模块作为默认模块</li>
<li>每个模块都有一个默认的方法<code>index</code>，提供默认<code>View</code></li>
</ul>
</li>
</ul>
</li>
<li><code>Application</code>：按照产品来划分目录<ul>
<li>通用产品<ul>
<li><code>base</code>：放置所有基类<ul>
<li><code>controller</code>：按照域名前缀划分子目录</li>
<li>没有任何业务逻辑和服务</li>
<li><code>view</code>：同样按照域名前缀来划分，但不要直接修改，请参考<strong>前端工程</strong>里的说明</li>
<li><code>view/common</code>：存放全站公共的基础函数</li>
</ul>
</li>
<li><code>home</code>：首页<ul>
<li>包括通用的业务逻辑和服务</li>
</ul>
</li>
<li><code>profile</code>：用户中心</li>
<li><code>business</code>：商户中心</li>
</ul>
</li>
<li>配置文件<ul>
<li><code>.env</code>：<strong>站点目录</strong>下的隐藏文件，配置不同开发环境的数据库连接参数等</li>
<li><code>route_service.php</code>：提供内部<code>Service</code>调用</li>
<li><code>common.php</code>：尽量不要使用，所有助手函数分类放到<code>Helper</code>里面去</li>
<li><code>Result.php</code>：<code>Logic</code>和<code>Service</code>的统一返回值</li>
</ul>
</li>
</ul>
</li>
</ul>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div></pre></td><td class="code"><pre><div class="line">.</div><div class="line">├── base</div><div class="line">│   ├── controller</div><div class="line">│   │   ├── api</div><div class="line">│   │   ├── m</div><div class="line">│   │   ├── www</div><div class="line">│   │   └── xdb</div><div class="line">│   ├── logic</div><div class="line">│   │   ├── BaseLogic.php</div><div class="line">│   │   └── Result.php</div><div class="line">│   ├── model</div><div class="line">│   │   └── BaseModel.php</div><div class="line">│   ├── service</div><div class="line">│   │   ├── BaseService.php</div><div class="line">│   │   └── ServiceResult.php</div><div class="line">│   └── view</div><div class="line">│       └── xdb</div><div class="line">├── business</div><div class="line">│   ├── config.php</div><div class="line">│   ├── controller</div><div class="line">│   ├── logic</div><div class="line">│   ├── model</div><div class="line">│   ├── service</div><div class="line">│   └── view</div><div class="line">├── command.php</div><div class="line">├── common.php</div><div class="line">├── config.php</div><div class="line">├── database.php</div><div class="line">├── home</div><div class="line">│   ├── controller</div><div class="line">│   ├── logic</div><div class="line">│   ├── model</div><div class="line">│   ├── service</div><div class="line">│   └── view</div><div class="line">├── profile</div><div class="line">│   ├── controller</div><div class="line">│   ├── logic</div><div class="line">│   ├── model</div><div class="line">│   └── service</div><div class="line">├── route_service.php</div><div class="line">├── yan</div><div class="line">│   ├── config.php</div><div class="line">│   ├── controller</div><div class="line">│   ├── database.php</div><div class="line">│   ├── logic</div><div class="line">│   ├── model</div><div class="line">│   └── view</div><div class="line">└── zhuan</div></pre></td></tr></table></figure>
<h2 id="前端工程"><a href="#前端工程" class="headerlink" title="前端工程"></a>前端工程</h2><h3 id="访问目录："><a href="#访问目录：" class="headerlink" title="访问目录："></a>访问目录：</h3><blockquote>
<p>部署在<code>/data/htdocs/**</code></p>
</blockquote>
<ul>
<li>CDN：<code>static.tugou.com</code></li>
<li>内网： <code>/public/static</code></li>
</ul>
<h3 id="源码目录："><a href="#源码目录：" class="headerlink" title="源码目录："></a>源码目录：</h3><blockquote>
<p>部署在<code>**/view/[site]</code></p>
</blockquote>
<ul>
<li>工程目录：<code>@asset</code><ul>
<li>此目录下所有文件最终生成到同级目录下的<code>@static</code></li>
<li><code>.css</code>文件统一建议一个scss目录存放</li>
</ul>
</li>
<li>发布目录：<code>@static</code><ul>
<li>此目录下的所有文件必须上传<code>SVN</code>，并发布到对应的访问目录</li>
</ul>
</li>
</ul>
<h3 id="编译发布："><a href="#编译发布：" class="headerlink" title="编译发布："></a>编译发布：</h3><ul>
<li>安装最新<code>LTS</code>版本的<code>NodeJs</code>和<code>NPM</code></li>
<li>进入站点目录执行：<code>npm install</code></li>
<li>启动文件监听：<code>npm start</code></li>
</ul>
<figure class="highlight json"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">  <span class="attr">"name"</span>: <span class="string">"tugou-static"</span>,</div><div class="line">  <span class="attr">"version"</span>: <span class="string">"1.0.2"</span>,</div><div class="line">  <span class="attr">"description"</span>: <span class="string">"this is tugou enterprise project"</span>,</div><div class="line">  <span class="attr">"main"</span>: <span class="string">"package.json"</span>,</div><div class="line">  <span class="attr">"dependencies"</span>: &#123;</div><div class="line">    <span class="attr">"gulp"</span>: <span class="string">"3.9.1"</span>,</div><div class="line">    <span class="attr">"gulp-autoprefixer"</span>: <span class="string">"^3.1.1"</span>,</div><div class="line">    <span class="attr">"gulp-clean-css"</span>: <span class="string">"^2.3.2"</span>,</div><div class="line">    <span class="attr">"gulp-debug"</span>: <span class="string">"^3.1.0"</span>,</div><div class="line">    <span class="attr">"gulp-rem"</span>: <span class="string">"^1.1.6"</span>,</div><div class="line">    <span class="attr">"gulp-ruby-sass"</span>: <span class="string">"^2.1.1"</span>,</div><div class="line">    <span class="attr">"gulp-sftp"</span>: <span class="string">"^0.1.5"</span></div><div class="line">  &#125;,</div><div class="line">  <span class="attr">"devDependencies"</span>: &#123;&#125;,</div><div class="line">  <span class="attr">"scripts"</span>: &#123;</div><div class="line">    <span class="attr">"start"</span>: <span class="string">"gulp"</span></div><div class="line">  &#125;,</div><div class="line">  <span class="attr">"author"</span>: <span class="string">"ronesam"</span>,</div><div class="line">  <span class="attr">"private"</span>: <span class="string">"true"</span>,</div><div class="line">  <span class="attr">"license"</span>: <span class="string">"ISC"</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="第三方："><a href="#第三方：" class="headerlink" title="第三方："></a>第三方：</h3><blockquote>
<p>部署在<code>/vendor</code></p>
</blockquote>
<ul>
<li>使用<code>Bower</code>下载模块到<code>@asset</code></li>
<li>拷贝<code>@asset/module/dist</code>目录内的文件到<code>@static/moudule-v1</code></li>
<li>发布到<code>static.tugou.com/vendor</code></li>
</ul>
<figure class="highlight vala"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div></pre></td><td class="code"><pre><div class="line"><span class="meta"># bower.json</span></div><div class="line">&#123;</div><div class="line">  <span class="string">"name"</span>: <span class="string">"tugou-static-vendor"</span>,</div><div class="line">  <span class="string">"description"</span>: <span class="string">"兔狗第三方库"</span>,</div><div class="line">  <span class="string">"main"</span>: <span class="string">"package.json"</span>,</div><div class="line">  <span class="string">"authors"</span>: [</div><div class="line">    <span class="string">"ronesam"</span></div><div class="line">  ],</div><div class="line">  <span class="string">"license"</span>: <span class="string">"MIT"</span>,</div><div class="line">  <span class="string">"homepage"</span>: <span class="string">""</span>,</div><div class="line">  <span class="string">"private"</span>: <span class="literal">true</span>,</div><div class="line">  <span class="string">"ignore"</span>: [</div><div class="line">    <span class="string">"**/.*"</span>,</div><div class="line">    <span class="string">"node_modules"</span>,</div><div class="line">    <span class="string">"bower_components"</span>,</div><div class="line">    <span class="string">"test"</span>,</div><div class="line">    <span class="string">"tests"</span></div><div class="line">  ],</div><div class="line">  <span class="string">"dependencies"</span>: &#123;</div><div class="line">    <span class="string">"blueimp-md5-v2"</span>: <span class="string">"blueimp-md5#^2.7.0"</span>,</div><div class="line">    <span class="string">"bootstrap-v3"</span>: <span class="string">"bootstrap#^3.3.7"</span>,</div><div class="line">    <span class="string">"clipboard-v1"</span>: <span class="string">"clipboard#^1.6.1"</span>,</div><div class="line">    <span class="string">"devbridge-autocomplete-v1"</span>: <span class="string">"devbridge-autocomplete#^1.3.0"</span>,</div><div class="line">    <span class="string">"element-ui-v1"</span>: <span class="string">"element-ui#^1.2.4"</span>,</div><div class="line">    <span class="string">"es6-promise-v4"</span>: <span class="string">"es6-promise#^4.0.5"</span>,</div><div class="line">    <span class="string">"flatpickr-v2"</span>: <span class="string">"flatpickr-calendar#^2.4.4"</span>,</div><div class="line">    <span class="string">"font-awesome-v4"</span>: <span class="string">"font-awesome#^4.7.0"</span>,</div><div class="line">    <span class="string">"jBox-v0"</span>: <span class="string">"jbox#^0.4.7"</span>,</div><div class="line">    <span class="string">"jquery-cookie-v1"</span>: <span class="string">"jquery-cookie#^1.4.1"</span>,</div><div class="line">    <span class="string">"jquery-dateFormat-v1"</span>: <span class="string">"jquery-dateFormat#^1.0.0"</span>,</div><div class="line">    <span class="string">"jquery-nicescroll-v3"</span>: <span class="string">"jquery-nicescroll#^3.6.8"</span>,</div><div class="line">    <span class="string">"jquery-powertip-v1"</span>: <span class="string">"jquery-powertip#^1.3.0"</span>,</div><div class="line">    <span class="string">"jquery-v1"</span>: <span class="string">"jquery#^1.12.4"</span>,</div><div class="line">    <span class="string">"jquery-v2"</span>: <span class="string">"jquery#^2.2.4"</span>,</div><div class="line">    <span class="string">"jquery-v3"</span>: <span class="string">"jquery#^3.1.1"</span>,</div><div class="line">    <span class="string">"js-cookie-v2"</span>: <span class="string">"js-cookie#^2.1.3"</span>,</div><div class="line">    <span class="string">"lodash-v4"</span>: <span class="string">"lodash#^4.17.4"</span>,</div><div class="line">    <span class="string">"moment-v2"</span>: <span class="string">"moment#^2.17.1"</span>,</div><div class="line">    <span class="string">"swiper-v3"</span>: <span class="string">"swiper#^3.4.1"</span>,</div><div class="line">    <span class="string">"velocity-v1"</span>: <span class="string">"velocity#^1.4.3"</span>,</div><div class="line">    <span class="string">"vue-resource-v1"</span>: <span class="string">"vue-resource#^1.2.1"</span>,</div><div class="line">    <span class="string">"vue-v1"</span>: <span class="string">"vue#^1.0.28"</span>,</div><div class="line">    <span class="string">"vue-v2"</span>: <span class="string">"vue#^2.2.2"</span>,</div><div class="line">    <span class="string">"vue-validator-v2"</span>: <span class="string">"vue-validator#^2.1.6"</span></div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></div><footer><div class="shares fa fa-weixin"><a>分享到微信</a></div></footer><div class="clearfix"></div></article><aside><ul class="action">   <li title="回到顶部" class="icon-arrow-up"> </li><li title="索引" data-remodal-target="toc" class="icon-toc"></li><li title="评论" data-remodal-target="comment" class="icon-comment"></li><li title="全屏" class="icon-fullscreen"></li></ul><ul class="page"> <li class="icon-prev"></li><li title="目录" data-remodal-target="summary" class="icon-summary"></li><li class="icon-next"></li></ul></aside><div data-remodal-id="toc" data-remodal-options="hashTracking: false" class="remodal"><button data-remodal-action="close" class="remodal-close"></button><h3>索引</h3><article class="toc"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#四层架构"><span class="toc-number">1.</span> <span class="toc-text">四层架构</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#理解MVC"><span class="toc-number">2.</span> <span class="toc-text">理解MVC</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#目录规划"><span class="toc-number">3.</span> <span class="toc-text">目录规划</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#前端工程"><span class="toc-number">4.</span> <span class="toc-text">前端工程</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#访问目录："><span class="toc-number">4.1.</span> <span class="toc-text">访问目录：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#源码目录："><span class="toc-number">4.2.</span> <span class="toc-text">源码目录：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#编译发布："><span class="toc-number">4.3.</span> <span class="toc-text">编译发布：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#第三方："><span class="toc-number">4.4.</span> <span class="toc-text">第三方：</span></a></li></ol></li></ol></article></div><div data-remodal-id="summary" data-remodal-options="hashTracking: false" class="remodal"><button data-remodal-action="close" class="remodal-close"></button><h3>目录</h3><article class="summary"></article></div><div data-remodal-id="comment" data-remodal-options="hashTracking: false" class="remodal"><button data-remodal-action="close" class="remodal-close"></button><h3>评论</h3><article class="comment"><div data-thread-key="ronesam" data-title="架构设计" data-url="/about/guide/design/" class="ds-thread"></div></article></div></div></div><footer id="footer"><div class="copyright">&copy; 2017 <a href="/">ronesam</a></div><div class="theme-copyright">Theme by <a href="https://github.com/orderedlist" target="_blank">orderedlist</a>  | Redesign by <a href="https://ronesam.com/about/summary/" target="_blank">ronesam</a></div><div class="clearfix"></div></footer><script src="/vendor/remodal/1.0.5/remodal.min.js"></script><script src="/vendor/screenfull.js/2.0.0/screenfull.min.js"></script><!--需要先载入全屏的函数，aside里面会重写，加入回调--><script src="/zero/js/aside.js"></script><script>var duoshuoQuery = {short_name: 'ronesam'};</script></body></html>