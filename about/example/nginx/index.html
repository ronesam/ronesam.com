<!DOCTYPE html><html><head><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="chrome=1"/><title>Nginx: 全栈开发之旅</title><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"/><meta name="author" content="ronesam"/><meta name="description" content="阿里云ECS上安装nginx">
<meta property="og:type" content="article">
<meta property="og:title" content="Nginx">
<meta property="og:url" content="https://ronesam.com/about/example/nginx/index.html">
<meta property="og:site_name" content="全栈开发之旅">
<meta property="og:description" content="阿里云ECS上安装nginx">
<meta property="og:locale" content="zh-CN">
<meta property="og:updated_time" content="2017-12-27T08:44:21.982Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Nginx">
<meta name="twitter:description" content="阿里云ECS上安装nginx"><link rel="icon" type="image/x-icon" href="/zero/img/favicon.ico"/><link rel="stylesheet" href="/vendor/bootstrap/3.3.5/css/bootstrap.min.css"><link rel="stylesheet" href="/vendor/font-awesome/4.4.0/css/font-awesome.min.css"><link rel="stylesheet" href="/vendor/remodal/1.0.5/remodal.min.css"><link rel="stylesheet" href="/vendor/remodal/1.0.5/remodal-default-theme.min.css"><link rel="stylesheet" href="/zero/css/style.css"><script src="/vendor/jquery/2.1.4/jquery.min.js"></script></head><body><div class="wrapper"><header id="header"><div class="title"><h1><a href="/">全栈开发之旅</a></h1><p class="fa fa-github-alt"><a href="/about/summary/" target="_blank">学以致用, 知行合一</a></p></div><nav class="nav"><ul><li><a href="/wind/summary/">交互层</a></li><li><a href="/fire/summary/">业务层</a></li><li><a href="/water/summary/">服务层</a></li><li><a href="/earth/summary/">事务层</a></li></ul><div class="clearfix"></div></nav><div class="clearfix"></div></header><div class="content"><article class="post"><header><div class="icon"></div><a href="/about/example/nginx/"><time datetime="2017-12-27T08:44:21.982Z">2017-12-27</time></a><h1 class="title">Nginx</h1></header><div class="entry"><blockquote><p>阿里云ECS上安装nginx</p>
</blockquote>
<a id="more"></a>
<h2 id="Nginx：1-10-x"><a href="#Nginx：1-10-x" class="headerlink" title="Nginx：1.10.x"></a>Nginx：<code>1.10.x</code></h2><p>先看看阿里云提供的版本：<br><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"># <span class="selector-tag">yum</span> <span class="selector-tag">list</span> <span class="selector-tag">nginx</span></div><div class="line"></div><div class="line">……</div><div class="line"><span class="selector-tag">nginx</span><span class="selector-class">.x86_64</span>                                   1<span class="selector-class">.10</span><span class="selector-class">.1-1</span><span class="selector-class">.el6</span></div></pre></td></tr></table></figure></p>
<p>还行，就它吧：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#</span><span class="bash"> yum install nginx</span></div><div class="line"></div><div class="line">……</div><div class="line"></div><div class="line"><span class="meta">#</span><span class="bash"> nginx -v</span></div><div class="line"></div><div class="line">nginx version: nginx/1.10.1</div></pre></td></tr></table></figure></p>
<h2 id="Gilab-Nginx"><a href="#Gilab-Nginx" class="headerlink" title="Gilab-Nginx"></a>Gilab-Nginx</h2><p>如果使用<code>Gitlab</code>，<code>Nginx</code>不用单独安装，只需要配置好即可。</p>
<h3 id="默认配置"><a href="#默认配置" class="headerlink" title="默认配置"></a>默认配置</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#</span><span class="bash"> <span class="built_in">cd</span> /var/opt/gitlab/nginx/conf</span></div></pre></td></tr></table></figure>
<h3 id="新增配置"><a href="#新增配置" class="headerlink" title="新增配置"></a>新增配置</h3><p>在<code>gitlab.rb</code>里面增加包含目录<br><figure class="highlight vala"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="meta"># vim /etc/gitlab/gitlab.rb</span></div><div class="line"></div><div class="line">……</div><div class="line">[<span class="string">'custom_nginx_config'</span>] = <span class="string">"include /etc/nginx/conf.d/example.conf;"</span></div></pre></td></tr></table></figure></p>
<p>To：<br><figure class="highlight prolog"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[<span class="string">'custom_nginx_config'</span>] = <span class="string">"include /etc/nginx/conf.d/*.conf;"</span></div></pre></td></tr></table></figure></p>
<p>然后重启：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#</span><span class="bash"> gitlab-ctl reconfigure</span></div></pre></td></tr></table></figure></p>
</div><footer><div class="shares fa fa-weixin"><a>分享到微信</a></div></footer><div class="clearfix"></div></article><aside><ul class="action">   <li title="回到顶部" class="icon-arrow-up"> </li><li title="索引" data-remodal-target="toc" class="icon-toc"></li><li title="评论" data-remodal-target="comment" class="icon-comment"></li><li title="全屏" class="icon-fullscreen"></li></ul><ul class="page"> <li class="icon-prev"></li><li title="目录" data-remodal-target="summary" class="icon-summary"></li><li class="icon-next"></li></ul></aside><div data-remodal-id="toc" data-remodal-options="hashTracking: false" class="remodal"><button data-remodal-action="close" class="remodal-close"></button><h3>索引</h3><article class="toc"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Nginx：1-10-x"><span class="toc-number">1.</span> <span class="toc-text">Nginx：1.10.x</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Gilab-Nginx"><span class="toc-number">2.</span> <span class="toc-text">Gilab-Nginx</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#默认配置"><span class="toc-number">2.1.</span> <span class="toc-text">默认配置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#新增配置"><span class="toc-number">2.2.</span> <span class="toc-text">新增配置</span></a></li></ol></li></ol></article></div><div data-remodal-id="summary" data-remodal-options="hashTracking: false" class="remodal"><button data-remodal-action="close" class="remodal-close"></button><h3>目录</h3><article class="summary"></article></div><div data-remodal-id="comment" data-remodal-options="hashTracking: false" class="remodal"><button data-remodal-action="close" class="remodal-close"></button><h3>评论</h3><article class="comment"><div data-thread-key="ronesam" data-title="Nginx" data-url="/about/example/nginx/" class="ds-thread"></div></article></div></div></div><footer id="footer"><div class="copyright">&copy; 2017 <a href="/">ronesam</a></div><div class="theme-copyright">Theme by <a href="https://github.com/orderedlist" target="_blank">orderedlist</a>  | Redesign by <a href="https://ronesam.com/about/summary/" target="_blank">ronesam</a></div><div class="clearfix"></div></footer><script src="/vendor/remodal/1.0.5/remodal.min.js"></script><script src="/vendor/screenfull.js/2.0.0/screenfull.min.js"></script><!--需要先载入全屏的函数，aside里面会重写，加入回调--><script src="/zero/js/aside.js"></script><script>var duoshuoQuery = {short_name: 'ronesam'};</script></body></html>